# Исправление: Пересортировка заказов при обновлении

## Проблема
Изначально при обновлении существующих заказов (например, изменение статуса) они обновлялись на своих местах в списке, не учитывая новое время `updated_at`.

## Решение
Теперь при обновлении заказов весь список пересортировывается по полю `updated_at`, чтобы заказы с последними изменениями поднимались наверх.

## Изменения в коде

### Старая логика:
```typescript
// Обновляли заказы на месте
const resultOrders = prevOrders.map(order => 
  updatedOrdersMap.has(order.id) ? updatedOrdersMap.get(order.id)! : order
);
const finalOrders = [...newOrders, ...resultOrders];
```

### Новая логика:
```typescript
// Удаляем обновленные заказы из старых позиций
const ordersWithoutUpdated = prevOrders
  .filter(order => !updatedOrdersMap.has(order.id));

// Объединяем все заказы
const allOrders = [...newOrders, ...updatedOrders, ...ordersWithoutUpdated];

// Пересортировываем по updated_at (новые изменения сверху)
const finalOrders = allOrders.sort((a, b) => {
  const dateA = new Date(a.updatedAt);
  const dateB = new Date(b.updatedAt);
  return dateB.getTime() - dateA.getTime();
});
```

## Результат
- Заказы с изменениями автоматически поднимаются в топ списка
- Сохраняется хронологический порядок по времени последнего обновления
- Администраторы сразу видят заказы с последними изменениями

## Пример работы
1. Заказ #123 имел статус "Создан" и был в середине списка
2. Курьер принял заказ → статус изменился на "Курьер принял"
3. Поле `updated_at` обновилось на текущее время
4. При следующем автообновлении (через 5 сек) заказ #123 поднимется наверх списка

Это обеспечивает актуальность и удобство работы с заказами для администраторов.
